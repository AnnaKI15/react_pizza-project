{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Git\\\\pizza-project\\\\src\\\\pages\\\\Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { fetchPizzas } from '../redux/action/pizzas';\nimport { Categories, SortPoup, PizzaBlock, PizzaLoadingBlock } from '../components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCategory, setSortBy } from '../redux/action/filter';\nimport { addPizzaToCart } from '../redux/action/cart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst categoryNames = ['Мясные', 'Вегетарианская', 'Гриль', 'Острые', 'Закрытые'];\nconst sortItems = [{\n  name: 'популярности',\n  type: 'popular',\n  order: 'desc'\n}, {\n  name: 'цене',\n  type: 'price',\n  order: 'desc'\n}, {\n  name: 'алфавиту',\n  type: 'name',\n  order: 'asc'\n}];\n\nfunction Home() {\n  _s();\n\n  const dispatch = useDispatch();\n  const items = useSelector(({\n    pizzas\n  }) => pizzas.items);\n  const cartItems = useSelector(({\n    cart\n  }) => cart.items);\n  const isLoaded = useSelector(({\n    pizzas\n  }) => pizzas.isLoaded);\n  const {\n    category,\n    sortBy\n  } = useSelector(({\n    filters\n  }) => filters);\n  React.useEffect(() => {\n    dispatch(fetchPizzas(sortBy, category));\n  }, [category, sortBy]);\n  const onSelectCategory = React.useCallback(index => {\n    dispatch(setCategory(index));\n  }, []);\n  const onSelectSortType = React.useCallback(type => {\n    dispatch(setSortBy(type));\n  }, []);\n\n  const handelPizzaToCart = obj => {\n    dispatch(addPizzaToCart(obj));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__top\",\n      children: [/*#__PURE__*/_jsxDEV(Categories, {\n        activeCategory: category,\n        onClickCategory: onSelectCategory,\n        items: categoryNames\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SortPoup, {\n        activeSortType: sortBy.type,\n        items: sortItems,\n        onClickSortType: onSelectSortType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"content__title\",\n      children: \"\\u0412\\u0441\\u0435 \\u043F\\u0438\\u0446\\u0446\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__items\",\n      children: isLoaded ? items.map(obj => /*#__PURE__*/_jsxDEV(PizzaBlock, {\n        onClickAddPizza: handelPizzaToCart,\n        addedCount: cartItems[obj.id] && cartItems[obj.id].items.length,\n        ...obj\n      }, obj.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }, this)) : Array(12).fill(0).map((_, index) => /*#__PURE__*/_jsxDEV(PizzaLoadingBlock, {}, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 34\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"lbCx2aQYHPKBYOK1bMJwK5i/gXw=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/User/Git/pizza-project/src/pages/Home.jsx"],"names":["React","fetchPizzas","Categories","SortPoup","PizzaBlock","PizzaLoadingBlock","useSelector","useDispatch","setCategory","setSortBy","addPizzaToCart","categoryNames","sortItems","name","type","order","Home","dispatch","items","pizzas","cartItems","cart","isLoaded","category","sortBy","filters","useEffect","onSelectCategory","useCallback","index","onSelectSortType","handelPizzaToCart","obj","map","id","length","Array","fill","_"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { fetchPizzas } from '../redux/action/pizzas';\nimport {Categories, SortPoup, PizzaBlock, PizzaLoadingBlock} from '../components'\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setCategory, setSortBy} from '../redux/action/filter';\nimport {addPizzaToCart} from '../redux/action/cart';\n\n\n  const categoryNames = [ 'Мясные', 'Вегетарианская', 'Гриль', 'Острые', 'Закрытые'];\n  const sortItems = [\n        {name :'популярности', type: 'popular', order: 'desc'}, \n        {name: 'цене', type: 'price', order: 'desc'}, \n        {name:'алфавиту', type: 'name', order: 'asc'}];\n\nfunction Home() {\n  const dispatch = useDispatch();\n  const items = useSelector(({ pizzas }) => pizzas.items);\n  const cartItems = useSelector(({ cart }) => cart.items);\n\n  const isLoaded = useSelector(({ pizzas }) => pizzas.isLoaded);\n  const { category, sortBy } = useSelector(({ filters }) => filters);\n\n  React.useEffect(() => {\n    dispatch(fetchPizzas(sortBy, category));\n  }, [category, sortBy]);\n\n  const onSelectCategory = React.useCallback((index) => {\n    dispatch(setCategory(index));\n  }, []);\n\n  const onSelectSortType = React.useCallback((type) => {\n    dispatch(setSortBy(type));\n  }, []);\n  const handelPizzaToCart = obj => {\n    dispatch(addPizzaToCart(obj))\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"content__top\">\n        <Categories\n        \n          activeCategory={category}\n          onClickCategory={onSelectCategory}\n          items={categoryNames}\n         \n        />\n        <SortPoup\n          activeSortType={sortBy.type}\n          items={sortItems}\n          onClickSortType={onSelectSortType}\n        />\n      </div>\n      <h2 className=\"content__title\">Все пиццы</h2>\n      <div className=\"content__items\">\n        {isLoaded\n          ? items.map((obj) => \n          (<PizzaBlock \n            onClickAddPizza={handelPizzaToCart} \n            key={obj.id} \n             addedCount={cartItems[obj.id] && cartItems[obj.id].items.length}\n             {...obj} /> \n             ))\n          : Array(12)\n              .fill(0)\n              .map((_, index) => <PizzaLoadingBlock key={index} />)}\n      </div>\n    </div>\n  );\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}